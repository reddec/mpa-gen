// Code generated by mpa-gen DO NOT EDIT.
package {{package}}

import (
  "github.com/gin-gonic/gin"
  "html/template"
  "{{our_pkg}}/service"
)

const (
   Section = "{{section}}"
   Root    = "{{ root_path }}"
)

func New(app *service.Application, templates interface {
	Get(layout, view string) *template.Template
}) *Controller {
	return &Controller{
		App:       app,
		Templates: templates,
	}
}

type Controller struct {
	App       *service.Application
	Templates interface {
		Get(layout, view string) *template.Template
	}
}

func (ct *Controller) Create() gin.IRoutes {
	group := gin.New().Group(Section)
    ct.Mount(group)
	return group
}

func (ct *Controller) Mount(router gin.IRouter) {
  {%- for controller in controllers %}
  router.{{ controller.method | upper }}({{ controller | to_page }}, ct.{{ controller | to_handler }})
  {%- endfor %}
}